const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header"),imageAspectRatio=document.querySelectorAll(".image-aspect-ratio, figure");imageAspectRatio.forEach(e=>{const t=e.querySelector("img"),o=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==o.position&&e.style.setProperty("--padding-aspect-ratio",Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});const headerLang=document.querySelector(".header__lang");body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});t(".header__lang--target")?headerLang.classList.toggle("_active"):t(".header__lang")||document.querySelector(".header__lang._active")&&document.querySelector(".header__lang._active").classList.remove("_active")}));let windowSize=0;const headerNavList=document.querySelector(".header__lang--list");function resize(){if(html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),headerNavList){headerNavList.parentElement.style.setProperty("--list-size",headerNavList.offsetHeight+"px")}windowSize=window.innerWidth}if(resize(),window.addEventListener("resize",resize),document.querySelector(".hero__slider")){const e=document.querySelector("#portfolio-project-popup"),t=document.querySelector(".hero__open-project--link:not(.open-popup)"),o=new Swiper(".hero__slider",{speed:1e3,navigation:{nextEl:".hero__slider--arrow.swiper-button-next",prevEl:".hero__slider--arrow.swiper-button-prev"},loop:!0,centeredSlides:!0,effect:"coverflow",slidesPerView:"auto",on:{slideChangeTransitionEnd:function(){document.querySelector(".hero__slider").classList.add("drag-active")},activeIndexChange:function(){setTimeout(()=>{e.style.setProperty("--theme",o.slides[o.activeIndex].dataset.theme);const r=o.slides[o.activeIndex].querySelector("picture").cloneNode(!0,!0),i=e.querySelector(".portfolio-project__image");i.querySelector("picture").remove(),i.append(r),t.setAttribute("href",o.slides[o.activeIndex].dataset.url)},500)},init:function(){setTimeout(()=>{t.setAttribute("href",o.slides[o.activeIndex].dataset.url),o.slides.length<=1&&document.querySelector(".hero__slider").classList.add("drag-active")},300)}},coverflowEffect:{rotate:0,scale:1,stretch:0,depth:200,modifier:2,slideShadows:!1},breakpoints:{992:{coverflowEffect:{rotate:-20,scale:.9,stretch:0,depth:300,modifier:2,slideShadows:!1}}}})}if(document.querySelector(".mob-portfolio__slider")){const e=new Swiper(".mob-portfolio__slider",{speed:1e3,loop:!1,effect:"coverflow",slidesPerView:"auto",direction:"vertical",on:{activeIndexChange:function(){setTimeout(()=>{e.el.classList.add("drag-active")},500)},init:function(){setTimeout(()=>{e.slides.length<=1&&document.querySelector(".mob-portfolio__slider").classList.add("drag-active")},300)}},coverflowEffect:{rotate:0,scale:1,stretch:30,depth:100,modifier:3,slideShadows:!1}})}if(document.querySelector(".portfolio__categories")){const e=new Swiper(".portfolio__categories--slider",{speed:500,slidesPerView:"auto",navigation:{nextEl:".portfolio__categories--arrow.swiper-button-next",prevEl:".portfolio__categories--arrow.swiper-button-prev"},on:{init:function(){setTimeout(()=>{e.isEnd&&document.querySelector(".portfolio__categories").classList.add("hide-arrows")},300)}}})}if(document.querySelector(".portfolio-page__gallery")&&document.querySelector(".portfolio-page__gallery-nav")){const e=new Swiper(".portfolio-page__gallery-nav",{speed:500,slidesPerView:4,spaceBetween:31});new Swiper(".portfolio-page__gallery",{speed:500,effect:"fade",watchSlidesProgress:!0,thumbs:{swiper:e}})}if(document.querySelector(".portfolio-page__min-gallery")){const e=new Swiper(".portfolio-page__min-gallery",{speed:500,effect:"fade",navigation:{nextEl:".portfolio-page__min-gallery--arrow.swiper-button-next",prevEl:".portfolio-page__min-gallery--arrow.swiper-button-prev"},on:{init:function(){setTimeout(()=>{e.isEnd&&document.querySelector(".portfolio-page__min-gallery").classList.add("hide-arrows")},300)}}})}function Popup(e){let t=document.querySelector("body"),o=document.querySelector("html"),r="object"==typeof e&&!!e.saveHref,i=!0,n=!0;const s=function(e,n){if(i){i=!1;let s=document.querySelector(e);if(!s)return new Error(`Not found "${e}"`);s.classList.contains("popup")&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),r&&history.pushState("","",e),setTimeout(()=>{if(n)s.classList.add("_transition-none"),s.classList.add("_active"),i=!0;else{s.classList.add("_active"),s.addEventListener("transitionend",(function e(){i=!0,s.removeEventListener("transitionend",e)}))}},0))}},a=function(e){if(n){let i;n=!1,i="string"==typeof e?document.querySelector(e):e.closest(".popup"),i.classList.contains("_transition-none")&&i.classList.remove("_transition-none"),setTimeout(()=>{i.classList.remove("_active"),i.addEventListener("transitionend",(function e(){const s=document.querySelectorAll(".popup._active");s.length<1&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding","0px")),r&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),s[s.length-1]&&history.pushState("","","#"+s[s.length-1].getAttribute("id"))),n=!0,i.removeEventListener("transitionend",e)}))},0)}};return{open:function(e){s(e)},close:function(e){a(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let o=e.closest(".open-popup");o&&(t.preventDefault(),s(o.getAttribute("href")));let r=e.closest(".popup-close");r&&a(r)})),r){let e=new URL(window.location);e.hash&&s(e.hash,!0)}}}}const popup=new Popup;popup.init();